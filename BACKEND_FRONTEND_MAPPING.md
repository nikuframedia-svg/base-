# ğŸ“Š Mapeamento Backend â†’ Frontend - ProdPlan 4.0

## ğŸ“‹ Resumo Executivo

Este documento mapeia todas as funcionalidades do backend que devem estar presentes no frontend, com especificaÃ§Ãµes de design e UX.

---

## ğŸ”§ MÃ“DULOS DO BACKEND

### 1. PLANNING V2 (`/api/planning/v2/*`)

#### Endpoints DisponÃ­veis:
| Endpoint | MÃ©todo | DescriÃ§Ã£o | Frontend Page |
|----------|--------|-----------|---------------|
| `/api/planning/v2/plano` | GET | Obter plano atual | `Planning.tsx` |
| `/api/planning/v2/recalculate` | POST | Recalcular plano | `Planning.tsx` |
| `/api/planning/v2/config` | GET/POST | ConfiguraÃ§Ã£o APS | `AdvancedPlanning.tsx` |
| `/api/planning/v2/diagnose-routes` | GET | DiagnÃ³stico de rotas | `AdvancedPlanning.tsx` |
| `/api/planning/v2/audit-routes` | POST | Auditoria de rotas | `AdvancedPlanning.tsx` |

#### Design Recomendado:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PRODPLAN - Planning Dashboard                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚Makespan  â”‚ â”‚Setup Timeâ”‚ â”‚  OTD %   â”‚ â”‚Operationsâ”‚           â”‚
â”‚  â”‚  48.2h   â”‚ â”‚  12.5h   â”‚ â”‚  94.5%   â”‚ â”‚   156    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    GANTT CHART                            â”‚  â”‚
â”‚  â”‚  M-27  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘         â”‚  â”‚
â”‚  â”‚  M-29  â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘         â”‚  â”‚
â”‚  â”‚  M-248 â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  [ğŸ”„ Recalcular] [âš™ï¸ Configurar] [ğŸ“Š DiagnÃ³stico]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2. BOTTLENECKS (`/api/bottlenecks/*`)

#### Endpoints DisponÃ­veis:
| Endpoint | MÃ©todo | DescriÃ§Ã£o | Frontend Page |
|----------|--------|-----------|---------------|
| `/api/bottlenecks/` | GET | AnÃ¡lise de gargalos | `Bottlenecks.tsx` |

#### Dados Retornados:
- `bottlenecks[]` - Lista de gargalos ordenada
- `top_losses[]` - Top 5 perdas
- `heatmap[]` - Mapa de calor de utilizaÃ§Ã£o
- `overlap_applied{}` - SobreposiÃ§Ãµes aplicadas
- `lead_time_gain` - Ganho em lead time

#### Design Recomendado:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GARGALOS - AnÃ¡lise de Capacidade                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  TOP 5 GARGALOS                     â”‚  HEATMAP DE UTILIZAÃ‡ÃƒO    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ”´ M-27   92% | 40h fila      â”‚ â”‚  â”‚     8h  16h  24h    â”‚  â”‚
â”‚  â”‚ ğŸŸ¡ M-29   85% | 25h fila      â”‚ â”‚  â”‚ M-27 ğŸŸ¥  ğŸŸ¥  ğŸŸ§     â”‚  â”‚
â”‚  â”‚ ğŸŸ¢ M-248  72% | 10h fila      â”‚ â”‚  â”‚ M-29 ğŸŸ§  ğŸŸ¥  ğŸŸ¨     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ M-248 ğŸŸ¨  ğŸŸ§  ğŸŸ©    â”‚  â”‚
â”‚                                      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  IMPACTO                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ OTD Impact: -4.5pp  â”‚  Lead Time Gain: +12h              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3. INVENTORY (`/api/inventory/*`)

#### Endpoints DisponÃ­veis:
| Endpoint | MÃ©todo | DescriÃ§Ã£o | Frontend Page |
|----------|--------|-----------|---------------|
| `/api/inventory/` | GET | Listagem de inventÃ¡rio | `SmartInventory.tsx` |
| `/api/inventory/rop` | GET | Recalcular ROP | `SmartInventory.tsx` |

#### Dados Retornados:
- `matrix{}` - Matriz ABC/XYZ (3x3)
- `skus[]` - Lista de SKUs com detalhes
- `kpis{}` - KPIs de inventÃ¡rio
- `top_risks[]` - SKUs com maior risco

#### Design Recomendado:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SMART INVENTORY - GestÃ£o Inteligente                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  MATRIZ ABC/XYZ                      â”‚  KPIs                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚       X      Y      Z          â”‚ â”‚  â”‚ Total SKUs: 156     â”‚  â”‚
â”‚  â”‚   A   12     8      3          â”‚ â”‚  â”‚ Em Risco: 23        â”‚  â”‚
â”‚  â”‚   B   15    12      6          â”‚ â”‚  â”‚ Cobertura MÃ©dia: 45dâ”‚  â”‚
â”‚  â”‚   C   25    35     40          â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                           â”‚
â”‚                                                                  â”‚
â”‚  TOP RISCOS (30 dias)                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ SKU          â”‚ Classe â”‚ Stock â”‚ Cobertura â”‚ Risco â”‚ AÃ§Ã£o â”‚  â”‚
â”‚  â”‚ SKU-001      â”‚   AX   â”‚  120  â”‚    5 dias â”‚  95%  â”‚ ğŸ”´   â”‚  â”‚
â”‚  â”‚ SKU-002      â”‚   BY   â”‚   80  â”‚   12 dias â”‚  45%  â”‚ ğŸŸ¡   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4. CHAT (`/api/chat/*`)

#### Endpoints DisponÃ­veis:
| Endpoint | MÃ©todo | DescriÃ§Ã£o | Frontend Page |
|----------|--------|-----------|---------------|
| `/api/chat/` | POST | Chat inteligente | `Chat.tsx` |

#### Request:
```json
{
  "messages": [{"role": "user", "content": "..."}],
  "mode": "planeamento|gargalos|inventario|resumo",
  "temperature": 0.5
}
```

#### Design Recomendado:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¬ ASSISTENTE INTELIGENTE                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ¤– Como posso ajudar?                                     â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚ ğŸ‘¤ Qual Ã© o gargalo principal?                           â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚ ğŸ¤– O gargalo principal Ã© o recurso M-27 com 92% de       â”‚  â”‚
â”‚  â”‚    utilizaÃ§Ã£o e 40h de fila acumulada. Recomendo         â”‚  â”‚
â”‚  â”‚    desviar 30% da carga para M-29.                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [Planeamento] [Gargalos] [InventÃ¡rio] [Resumo]           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” [Enviar]                   â”‚
â”‚  â”‚ Digite sua pergunta...         â”‚                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5. SUGGESTIONS (`/api/suggestions/*`)

#### Endpoints DisponÃ­veis:
| Endpoint | MÃ©todo | DescriÃ§Ã£o | Frontend Page |
|----------|--------|-----------|---------------|
| `/api/suggestions/` | GET | SugestÃµes inteligentes | `Suggestions.tsx` |

#### Tipos de SugestÃµes:
- `desvio_carga` - Desviar carga para mÃ¡quinas alternativas
- `reposicao_stock` - Repor stock em risco
- `preventiva` - Agendar manutenÃ§Ã£o preventiva
- `colar_familias` - Colar famÃ­lias para reduzir setup
- `ajuste_overlap` - Aumentar sobreposiÃ§Ã£o
- `reducao_excesso` - Reduzir stock excessivo

#### Design Recomendado:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¡ SUGESTÃ•ES INTELIGENTES                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ”´ ALTA PRIORIDADE                                        â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚ â”‚ âš™ï¸ Desviar 30% carga de M-27 para M-29             â”‚   â”‚  â”‚
â”‚  â”‚ â”‚ Impacto: OTD +2.5pp, Lead Time -8h                 â”‚   â”‚  â”‚
â”‚  â”‚ â”‚ [Ver Detalhes] [Aplicar]                           â”‚   â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸŸ¡ MÃ‰DIA PRIORIDADE                                       â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚ â”‚ ğŸ“¦ Repor 500 unidades do SKU-001                   â”‚   â”‚  â”‚
â”‚  â”‚ â”‚ Risco 30d: 95%, Cobertura: 5 dias                  â”‚   â”‚  â”‚
â”‚  â”‚ â”‚ [Ver Detalhes] [Aplicar]                           â”‚   â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 6. INSIGHTS (`/api/insights/*`)

#### Endpoints DisponÃ­veis:
| Endpoint | MÃ©todo | DescriÃ§Ã£o | Frontend Page |
|----------|--------|-----------|---------------|
| `/api/insights/context` | GET | Contexto estruturado | Dashboard |
| `/api/insights/action-candidates` | GET | Candidatos a aÃ§Ã£o | Suggestions |
| `/api/insights/generate` | GET | Gerar insight LLM | Dashboard |
| `/api/insights/cache/{batch_id}` | DELETE | Limpar cache | Admin |

---

### 7. WHAT-IF (`/api/whatif/*`)

#### Endpoints DisponÃ­veis:
| Endpoint | MÃ©todo | DescriÃ§Ã£o | Frontend Page |
|----------|--------|-----------|---------------|
| `/api/whatif/vip` | POST | Simular ordem VIP | `WhatIf.tsx` |
| `/api/whatif/avaria` | POST | Simular avaria | `WhatIf.tsx` |

#### Design Recomendado:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”® WHAT-IF - SimulaÃ§Ã£o de CenÃ¡rios                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ğŸ“¦ ORDEM VIP            â”‚  â”‚ ğŸ”§ AVARIA               â”‚      â”‚
â”‚  â”‚                         â”‚  â”‚                         â”‚      â”‚
â”‚  â”‚ SKU: [____________]     â”‚  â”‚ Recurso: [____________] â”‚      â”‚
â”‚  â”‚ Qtd: [____________]     â”‚  â”‚ De: [____________]      â”‚      â”‚
â”‚  â”‚ Prazo: [____________]   â”‚  â”‚ AtÃ©: [____________]     â”‚      â”‚
â”‚  â”‚                         â”‚  â”‚                         â”‚      â”‚
â”‚  â”‚ [Simular]               â”‚  â”‚ [Simular]               â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                  â”‚
â”‚  RESULTADO DA SIMULAÃ‡ÃƒO                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ KPIs ANTES          â”‚ KPIs DEPOIS         â”‚ IMPACTO      â”‚  â”‚
â”‚  â”‚ OTD: 94.5%         â”‚ OTD: 92.0%         â”‚ -2.5pp       â”‚  â”‚
â”‚  â”‚ Lead Time: 48h     â”‚ Lead Time: 52h     â”‚ +4h          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 8. ETL (`/api/etl/*`)

#### Endpoints DisponÃ­veis:
| Endpoint | MÃ©todo | DescriÃ§Ã£o | Frontend Page |
|----------|--------|-----------|---------------|
| `/api/etl/upload` | POST | Upload de ficheiros | `ETLPage.tsx` |
| `/api/etl/preview` | GET | Preview de dados | `ETLPage.tsx` |
| `/api/etl/mapping` | POST | Configurar mapeamento | `ETLPage.tsx` |
| `/api/etl/status` | GET | Status do ETL | Dashboard |

#### Design Recomendado:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¤ ETL - GestÃ£o de Dados                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  STATUS                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âœ… Dados carregados | Batch: 20251215120000              â”‚  â”‚
â”‚  â”‚ ğŸ“Š Ordens: 156 | MÃ¡quinas: 45 | SKUs: 230               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  UPLOAD                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚     ğŸ“ Arraste ficheiros Excel aqui                      â”‚  â”‚
â”‚  â”‚        ou clique para selecionar                         â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  FICHEIROS RECENTES                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Nikufra DadosProducao.xlsx  â”‚ 2024-12-15 â”‚ âœ… Processado â”‚  â”‚
â”‚  â”‚ Nikufra Stocks.xlsx         â”‚ 2024-12-15 â”‚ âœ… Processado â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 9. TECHNICAL QUERIES (`/api/technical/*`)

#### Endpoints DisponÃ­veis:
| Endpoint | MÃ©todo | DescriÃ§Ã£o | Frontend Page |
|----------|--------|-----------|---------------|
| `/api/technical/alternatives` | GET | Alternativas de mÃ¡quinas | `TechnicalQueriesPage.tsx` |
| `/api/technical/routes` | GET | Rotas disponÃ­veis | `TechnicalQueriesPage.tsx` |
| `/api/technical/operations` | GET | OperaÃ§Ãµes por mÃ¡quina | `TechnicalQueriesPage.tsx` |
| `/api/technical/families` | GET | FamÃ­lias por mÃ¡quina | `TechnicalQueriesPage.tsx` |
| `/api/technical/validate` | GET | Validar entidade | `TechnicalQueriesPage.tsx` |

---

### 10. PLANNING CHAT (`/api/planning/chat/*`)

#### Endpoints DisponÃ­veis:
| Endpoint | MÃ©todo | DescriÃ§Ã£o | Frontend Page |
|----------|--------|-----------|---------------|
| `/api/planning/chat/interpret` | POST | Interpretar comando NL | `Planning.tsx` |
| `/api/planning/chat/apply` | POST | Aplicar comando | `Planning.tsx` |

#### Comandos Suportados:
- `machine_unavailable` - Marcar mÃ¡quina como indisponÃ­vel
- `machine_available` - Marcar mÃ¡quina como disponÃ­vel
- `add_manual_order` - Adicionar ordem manual
- `change_priority` - Alterar prioridade (VIP, ALTA, NORMAL, BAIXA)
- `change_horizon` - Alterar horizonte de planeamento
- `recalculate_plan` - Recalcular plano

#### Design Recomendado:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ—£ï¸ CHAT DE PLANEAMENTO                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ‘¤ "mÃ¡quina 300 indisponÃ­vel"                            â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚ ğŸ¤– Entendi. Vou marcar M-300 como indisponÃ­vel.          â”‚  â”‚
â”‚  â”‚    PerÃ­odo: Agora atÃ© fim do horizonte (24h)             â”‚  â”‚
â”‚  â”‚    [âœ… Confirmar] [âŒ Cancelar] [âœï¸ Editar perÃ­odo]      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  COMANDOS RÃPIDOS                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [ğŸ”´ IndisponÃ­vel] [ğŸŸ¢ DisponÃ­vel] [â­ VIP] [ğŸ”„ Recalcular]â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 11. DASHBOARDS (Compatibilidade)

#### Endpoints DisponÃ­veis:
| Endpoint | MÃ©todo | DescriÃ§Ã£o | Frontend Page |
|----------|--------|-----------|---------------|
| `/dashboards/utilization-heatmap` | GET | Heatmap de utilizaÃ§Ã£o | `Dashboards.tsx` |
| `/dashboards/operator` | GET | Dashboard de operadores | `Dashboards.tsx` |
| `/dashboards/machine-oee` | GET | OEE das mÃ¡quinas | `Dashboards.tsx` |
| `/dashboards/cell-performance` | GET | Performance de cÃ©lulas | `Dashboards.tsx` |
| `/dashboards/capacity-projection` | GET | ProjeÃ§Ã£o de capacidade | `Dashboards.tsx` |

---

## ğŸ¨ DESIGN SYSTEM

### Cores
```css
--background: #0B0B0B;
--surface: #121212;
--surface-elevated: #161616;
--primary: #00E676;
--primary-hover: #00C767;
--text-primary: #EAEAEA;
--text-secondary: #9A9A9A;
--danger: #EF4444;
--warning: #F59E0B;
--border: #262626;
```

### Tipografia
- **Font Family**: Inter, DM Sans, -apple-system
- **TÃ­tulos**: 700 (bold), 20-28px
- **Corpo**: 400 (regular), 14-16px
- **Labels**: 500 (medium), 12px, uppercase

### EspaÃ§amento
- **xs**: 8px
- **sm**: 12px
- **md**: 16px
- **lg**: 24px
- **xl**: 32px

### Border Radius
- **Card**: 12px
- **Input**: 8px
- **Button**: 8px

---

## ğŸ“± ESTRUTURA DE NAVEGAÃ‡ÃƒO

```
PRODPLAN 4.0
â”œâ”€â”€ ğŸ“Š Dashboard (overview geral)
â”‚
â”œâ”€â”€ ğŸ­ PRODPLAN
â”‚   â”œâ”€â”€ Planning (Gantt + KPIs)
â”‚   â”œâ”€â”€ Advanced Planning
â”‚   â”œâ”€â”€ Bottlenecks
â”‚   â””â”€â”€ Suggestions
â”‚
â”œâ”€â”€ ğŸ“¦ SMART INVENTORY
â”‚   â”œâ”€â”€ Overview (matriz ABC/XYZ)
â”‚   â”œâ”€â”€ WIP Flow
â”‚   â””â”€â”€ Materials (se disponÃ­vel)
â”‚
â”œâ”€â”€ ğŸ”¬ QUALITY / ZDM
â”‚   â”œâ”€â”€ Overview
â”‚   â”œâ”€â”€ By Phase
â”‚   â””â”€â”€ By Product
â”‚
â”œâ”€â”€ ğŸ”® WHAT-IF
â”‚   â”œâ”€â”€ Simulate VIP
â”‚   â””â”€â”€ Simulate Avaria
â”‚
â”œâ”€â”€ ğŸ¤– ML / R&D
â”‚   â”œâ”€â”€ Models
â”‚   â”œâ”€â”€ Predict
â”‚   â””â”€â”€ Explain
â”‚
â”œâ”€â”€ âš™ï¸ OPS
â”‚   â”œâ”€â”€ Health
â”‚   â”œâ”€â”€ ETL / Ingestion
â”‚   â””â”€â”€ Technical Queries
â”‚
â””â”€â”€ ğŸ’¬ Chat (sempre acessÃ­vel)
```

---

## âœ… FUNCIONALIDADES A IMPLEMENTAR

### Alta Prioridade
1. â¬œ Dashboard Overview com KPIs consolidados
2. â¬œ Planning page com Gantt interativo
3. â¬œ Bottlenecks com heatmap funcional
4. â¬œ Smart Inventory com matriz ABC/XYZ
5. â¬œ Chat integrado com LLM

### MÃ©dia Prioridade
6. â¬œ Suggestions com cards interativos
7. â¬œ What-If com simulaÃ§Ã£o VIP/Avaria
8. â¬œ ETL com upload e preview
9. â¬œ Technical Queries interface

### Baixa Prioridade
10. â¬œ Dashboards OEE/Operator
11. â¬œ Digital Twin visualizaÃ§Ãµes
12. â¬œ Reports exportÃ¡veis

---

## ğŸ”„ ESTADO ATUAL vs IDEAL

| Funcionalidade | Backend | Frontend | Gap |
|----------------|---------|----------|-----|
| Planning V2 | âœ… Completo | ğŸŸ¡ Parcial | Falta Gantt interativo |
| Bottlenecks | âœ… Completo | ğŸŸ¡ Parcial | Falta heatmap real |
| Inventory | âœ… Completo | ğŸŸ¡ Parcial | Falta matriz interativa |
| Chat | âœ… Completo | âœ… Funcional | - |
| Suggestions | âœ… Completo | ğŸŸ¡ Parcial | Falta aÃ§Ãµes aplicÃ¡veis |
| What-If | âœ… Completo | ğŸŸ¡ Parcial | Falta UI completa |
| ETL | âœ… Completo | â¬œ BÃ¡sico | Falta preview/mapping |
| Planning Chat | âœ… Completo | ğŸŸ¡ Parcial | Falta UI de comandos |
| Dashboards | ğŸŸ¡ Stubs | â¬œ NÃ£o implementado | Endpoints sÃ£o stubs |
| Technical | âœ… Completo | â¬œ BÃ¡sico | Falta UI completa |

---

## ğŸ“ NOTAS DE IMPLEMENTAÃ‡ÃƒO

### 1. Todos os API calls devem usar `apiService`
```typescript
import apiService from '../services/api'

// Exemplo
const data = await apiService.planning.getPlan(batchId, horizonHours)
```

### 2. Usar TanStack Query para cache e estado
```typescript
const { data, isLoading, error } = useQuery({
  queryKey: ['planning', batchId],
  queryFn: () => apiService.planning.getPlan(batchId),
})
```

### 3. Timeouts devem ser 60s (jÃ¡ configurado)
```typescript
// apiRequest jÃ¡ tem timeout de 60s
const controller = new AbortController()
const timeoutId = setTimeout(() => controller.abort(), 60000)
```

### 4. Usar Tailwind CSS (nÃ£o inline styles)
```tsx
// âœ… Correto
<div className="bg-surface rounded-xl p-4 border border-border">

// âŒ Errado
<div style={{ backgroundColor: '#121212', borderRadius: 16 }}>
```

---

*Documento gerado em: 2024-12-17*
*VersÃ£o: 1.0*


